import{V as k,r as C,c as b,i as $,t as c,v as l,R as g,S as L,P as u,x as o,T,N as A,O as E,W as N,y as m,z as R,l as V,m as B}from"./mXEionkS.js";import{u as D}from"./DX0-c9GK.js";const F={class:"text-sm"},G={class:"w-96"},I={class:"w-80"},P={class:"w-32"},U=["checked","onInput"],z=["onClick"],Z={__name:"index",async setup(M){let n,r;const p=V(),{$showToast:i}=B(),{data:_,refresh:d}=([n,r]=k(()=>D(`${p.public.API_URL}/api/games`,{initialCache:!1},"$XFZsyuM5WH")),n=await n,r(),n),a=C(""),f=b(()=>{let e=_.value;return a.value.length>0&&(e=e.filter(t=>t.name.toLowerCase().includes(a.value.toLowerCase()))),e}),h=async e=>{try{await $fetch(`/api/games/${e._id}`,{method:"PUT",body:{...e,completed:!e.completed}}),i("Game succesvol geÃ¼pdatet","info"),d()}catch(t){console.error(t)}},w=async e=>{try{await $fetch(`/api/games/${e}`,{method:"DELETE"}),i("Game succesvol verwijderd","info"),d()}catch(t){console.error(t)}};return(e,t)=>{const y=$("font-awesome-icon");return c(),l("div",null,[g(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>T(a)?a.value=s:null),type:"text",placeholder:"Zoeken op naam...",class:"rounded-md p-2 text-black w-full mb-4"},null,512),[[L,u(a)]]),o("table",F,[(c(!0),l(A,null,E(u(f),(s,v)=>(c(),l("tr",{key:s._id,class:N({"bg-gray-700":v%2})},[o("td",G,m(s.name),1),o("td",I,m(s.platform),1),o("td",P,[o("input",{type:"checkbox",checked:s.completed,onInput:x=>h(s)},null,40,U),o("button",{onClick:x=>w(s._id)},[R(y,{icon:"fa-solid fa-circle-xmark",class:"w-4 h-4 text-red-500 ml-4 mb-0.5 cursor-pointer"})],8,z)])],2))),128))])])}}};export{Z as default};
