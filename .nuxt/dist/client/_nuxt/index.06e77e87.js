import{G as ee,f as te,a as q,h as se,r as $,m as D,D as ne,H as le,o as i,c as U,z as b,I as P,b as g,J as oe,T as J,u as n,i as s,w as T,p as j,v as ae,F,l as O,K as L,t as x,k as G,L as ie,M as K,N as W,O as re,y as V,s as B,x as M,j as C,q as ce}from"./entry.6b82d0cf.js";import{u as de}from"./fetch.a1b96b50.js";const ue=()=>({games:[],filteredGames:[],hasFiltered:!1}),ge={},pe={setGames(o){this.games=o},setFilteredGames(o){this.games=o},setHasFiltered(o){this.hasFiltered=o},async getAllGames(){const o=te().public.API_URL,{data:p}=await de(`${o}/api/games`,"$IGrTh3Q0c0");return p},async removeFilters(){this.hasFiltered=!1;const o=await this.getAllGames();this.setGames(o.value)}},R=ee("gameStore",{state:ue,getters:ge,actions:pe});const S=o=>(K("data-v-6d06d5d9"),o=o(),W(),o),fe=["onClick"],me={key:0,class:"flex flex-col h-screen z-70 shadow-md bg-gray-800 text-sm relative mr-auto w-screen sm:w-100 transform p-4 overflow-y-auto overflow-x-hidden"},ve={class:"flex text-lg"},_e=S(()=>s("h2",null,"Filters",-1)),he=S(()=>s("hr",{class:"my-3"},null,-1)),xe=S(()=>s("hr",{class:"my-3"},null,-1)),ye=S(()=>s("h3",null,"Genres",-1)),be=["id","value"],we=["for"],ke=S(()=>s("br",null,null,-1)),Pe={class:"ml-auto text-gray-500"},$e=S(()=>s("h3",{class:"mt-6"},"Uitgespeeld",-1)),Ce=["id","value"],Se=["for"],Ge=S(()=>s("br",null,null,-1)),Ne={class:"ml-auto text-gray-500"},Fe=S(()=>s("h3",{class:"mt-6"},"Platformen",-1)),Oe=["id","value"],Ue=["for"],Be=S(()=>s("br",null,null,-1)),Ae={class:"ml-auto text-gray-500"},Ee={class:"flex gap-3"},Ie={__name:"FilterOverlay",props:{show:{type:Boolean,required:!0}},emits:["close","reset-page"],setup(o,{emit:p}){const f=o,r=R(),{$showToast:w}=se(),k=$(""),_=D({});r.games.forEach(v=>{v.genres.forEach(e=>{Object.prototype.hasOwnProperty.call(_,e)?_[e]++:_[e]=1})});const d=D({});r.games.forEach(v=>{v.completed?Object.prototype.hasOwnProperty.call(d,"Uitgespeeld")?d.Uitgespeeld++:d.Uitgespeeld=1:Object.prototype.hasOwnProperty.call(d,"Niet uitgespeeld")?d["Niet uitgespeeld"]++:d["Niet uitgespeeld"]=1});const a=D({});r.games.forEach(v=>{Object.prototype.hasOwnProperty.call(a,v.platform)?a[v.platform]++:a[v.platform]=1});const u=$([]),m=$([]),c=$([]),N=$(!1);ne(()=>f.show,v=>{le(()=>{v?(N.value=!0,A("add","overflow-y-hidden")):A("remove","overflow-y-hidden")})});const A=(v,e)=>{const t=document.documentElement;v==="add"?t.classList.add(e):t.classList.remove(e)},E=()=>{N.value=!1,setTimeout(()=>{p("close")},200)},I=async v=>{let e=[],t;r.hasFiltered?{value:t}=await r.getAllGames():t=JSON.parse(JSON.stringify(r.games)),u.value.length>0&&(e=t.filter(l=>l.genres.some(h=>u.value.includes(h)))),k.value.length>0&&(e=e.length>0?e:t,e=e.filter(l=>l.name.toLowerCase().includes(k.value.toLowerCase()))),m.value.length>0&&(e=e.length>0?e:t,e=e.filter(l=>m.value.includes("Uitgespeeld")&&l.completed||m.value.includes("Niet uitgespeeld")&&!l.completed)),c.value.length>0&&(e=e.length>0?e:t,e=e.filter(l=>c.value.includes(l.platform))),e.length>0?(r.setHasFiltered(!0),v&&(e=[e[Math.floor(Math.random()*e.length)]]),r.setGames(e),p("reset-page"),E()):w("Niks gevonden!","warning")};return(v,e)=>(i(),U(ie,{to:"body"},[b(J,{name:"dialog"},{default:P(()=>[o.show?(i(),g("div",{key:0,class:"z-50 fixed w-full h-screen flex items-center",style:{background:"rgba(0,0,0,0.5)"},onClick:oe(E,["self"])},[b(J,{"enter-class":"translate-x-full","leave-to-class":"-translate-x-full","enter-active-class":"transition-all duration-200 ease-in","leave-active-class":"transition-all duration-200 ease-out"},{default:P(()=>[n(N)?(i(),g("div",me,[s("div",ve,[_e,s("div",{class:"ml-auto cursor-pointer font-bold",onClick:e[0]||(e[0]=t=>p("close"))},"X")]),he,T(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>j(k)?k.value=t:null),type:"text",placeholder:"Zoeken op naam...",class:"rounded-md p-2 text-black"},null,512),[[ae,n(k)]]),xe,ye,(i(!0),g(F,null,O(n(_),(t,l)=>(i(),g("div",{key:l,class:"flex gap-1.5 w-60"},[T(s("input",{id:l,"onUpdate:modelValue":e[2]||(e[2]=h=>j(u)?u.value=h:null),type:"checkbox",value:l},null,8,be),[[L,n(u)]]),s("label",{for:l,class:"text-sm"},x(l),9,we),ke,s("p",Pe,x(t),1)]))),128)),$e,(i(!0),g(F,null,O(n(d),(t,l)=>(i(),g("div",{key:l,class:"flex gap-1.5 w-40"},[T(s("input",{id:l,"onUpdate:modelValue":e[3]||(e[3]=h=>j(m)?m.value=h:null),type:"checkbox",value:l},null,8,Ce),[[L,n(m)]]),s("label",{for:l,class:"text-sm"},x(l),9,Se),Ge,s("p",Ne,x(t),1)]))),128)),Fe,(i(!0),g(F,null,O(n(a),(t,l)=>(i(),g("div",{key:l,class:"flex gap-1.5 w-88"},[T(s("input",{id:l,"onUpdate:modelValue":e[4]||(e[4]=h=>j(c)?c.value=h:null),type:"checkbox",value:l},null,8,Oe),[[L,n(c)]]),s("label",{for:l,class:"text-sm"},x(l),9,Ue),Be,s("p",Ae,x(t),1)]))),128)),s("button",{class:"bg-violet-600 hover:bg-violet-800 rounded-md font-bold py-2 px-4 my-3 transition duration-200",onClick:e[5]||(e[5]=t=>I(!1))}," Filters toepassen "),s("div",Ee,[s("button",{class:"bg-gray-600 hover:bg-gray-700 rounded-md font-bold py-2 px-4 transition duration-200 w-full",onClick:e[6]||(e[6]=t=>I(!0))}," Kies game! "),s("button",{class:"bg-gray-600 hover:bg-gray-700 rounded-md font-bold py-2 px-4 transition duration-200 w-full",onClick:e[7]||(e[7]=t=>n(r).removeFilters())}," Filters verwijderen ")])])):G("",!0)]),_:1})],8,fe)):G("",!0)]),_:1})]))}},Te=q(Ie,[["__scopeId","data-v-6d06d5d9"]]),je={__name:"GamesPaginationButton",props:{isDisabled:{type:Boolean,default:!1}},setup(o){const p=o;return(f,r)=>(i(),g("button",{class:V(["rounded-md font-bold py-2 px-2.5 sm:px-4 my-3 transition duration-200 text-sm",p.isDisabled?"bg-violet-800 cursor-not-allowed":"bg-violet-600 hover:bg-violet-800"])},[re(f.$slots,"default")],2))}},Ve={class:"flex justify-between"},De={class:"flex gap-2 mx-auto"},Le={key:0,class:"mt-auto mb-2.5"},Me={key:2,class:"mt-auto mb-2.5"},Re={__name:"GamesPagination",props:{currentPage:{type:Number,default:0},numPerPage:{type:Number,default:30}},emits:["next","prev","change"],setup(o,{emit:p}){const f=o,r=R(),w=B(()=>Math.ceil(r.games.length/f.numPerPage)-1),k=B(()=>{const d=[];let a=f.currentPage,u=0;for(;u<3&&a>=1;)a!==f.currentPage&&d.push(a),u++,a--;return d.reverse()}),_=B(()=>{const d=[];let a=f.currentPage,u=0;for(;u<3&&a<w.value;)a!==f.currentPage&&d.push(a),u++,a++;return d});return(d,a)=>{const u=M("font-awesome-icon"),m=je;return i(),g("div",Ve,[b(m,{"is-disabled":f.currentPage===0,class:"hidden sm:block",onClick:a[0]||(a[0]=c=>p("prev"))},{default:P(()=>[b(u,{icon:"fa-solid fa-angle-left",class:"w-4 h-4"})]),_:1},8,["is-disabled"]),s("div",De,[b(m,{"is-disabled":f.currentPage===0,onClick:a[1]||(a[1]=c=>p("change",0))},{default:P(()=>[C(" 1 ")]),_:1},8,["is-disabled"]),f.currentPage>3?(i(),g("p",Le,"...")):G("",!0),(i(!0),g(F,null,O(n(k),c=>(i(),U(m,{key:c,"is-disabled":c===f.currentPage,onClick:N=>p("change",c)},{default:P(()=>[C(x(c+1),1)]),_:2},1032,["is-disabled","onClick"]))),128)),o.currentPage!==0&&o.currentPage!==n(w)?(i(),U(m,{key:1,"is-disabled":""},{default:P(()=>[C(x(o.currentPage+1),1)]),_:1})):G("",!0),(i(!0),g(F,null,O(n(_),c=>(i(),U(m,{key:c,"is-disabled":c===f.currentPage,onClick:N=>p("change",c)},{default:P(()=>[C(x(c+1),1)]),_:2},1032,["is-disabled","onClick"]))),128)),n(w)-o.currentPage>3?(i(),g("p",Me,"...")):G("",!0),b(m,{"is-disabled":f.currentPage===n(w),onClick:a[2]||(a[2]=c=>p("change",n(w)))},{default:P(()=>[C(x(n(w)+1),1)]),_:1},8,["is-disabled"])]),b(m,{class:"hidden sm:block","is-disabled":f.currentPage===n(w),onClick:a[3]||(a[3]=c=>p("next"))},{default:P(()=>[b(u,{icon:"fa-solid fa-angle-right",class:"w-4 h-4"})]),_:1},8,["is-disabled"])])}}};const Q=o=>(K("data-v-cbf808a0"),o=o(),W(),o),ze={class:"flex justify-between text-sm mb-3"},He={class:"text-gray-500"},Xe={key:0},Je={class:"flex gap-1 items-center"},qe={class:"flex gap-1 items-center"},Ke=Q(()=>s("span",null,"Filters",-1)),We={class:"grid grid-cols-12 gap-4 mb-1"},Qe=["src"],Ze={class:"info absolute top-4 left-0 opacity-0 transition duration-200 w-full"},Ye={class:"text-center"},et={class:"text-center mt-3"},tt={class:"text-center mt-3"},st=["src"],nt={class:"text-center mt-3 flex gap-1 items-center justify-center"},lt=Q(()=>s("span",null,"Uitgespeeld:",-1)),ot={class:"info absolute bottom-2 left-2 opacity-0 transition duration-200 text-xxs flex gap-2 flex-wrap"},at={__name:"index",async setup(o){let p,f;const r=R(),w=([p,f]=ce(()=>r.getAllGames()),p=await p,f(),p);r.setGames(w);const k=$(!1),_=$(0),d=$(30),a=$(!1),u=$("date"),m=e=>{let t="/images/";return e==="Nintendo Entertainment System (NES)"?t+="nes.png":e==="Super Nintendo Entertainment System (SNES)"?t+="snes.png":e==="Nintendo 64"?t+="n64.png":e==="Nintendo GameCube"?t+="gc.png":e==="Wii"?t+="wii.png":e==="Wii U"?t+="wii-u.png":e==="Nintendo Switch"?t+="switch.png":e==="Game Boy"?t+="gb.png":e==="Game Boy Color"?t+="gbc.png":e==="Game Boy Advance"?t+="gba.png":e==="Nintendo DS"?t+="ds.png":e==="Nintendo 3DS"?t+="3ds.png":e==="PlayStation"?t+="ps.png":e==="PlayStation 2"?t+="ps2.png":e==="PlayStation 3"?t+="ps3.png":e==="PlayStation 4"?t+="ps4.png":e==="Xbox"?t+="xbox.png":e==="Xbox 360"?t+="xbox-360.png":e==="Xbox One"?t+="xbox-one.png":t+="md.png",t},c=B(()=>u.value==="date"?"Toegevoegd":"Alfabetisch"),N=B(()=>{let e=[...r.games];u.value==="alphabet"&&(e=e.sort((l,h)=>l.name.localeCompare(h.name)));const t=e.slice().reverse();return a.value?t:e}),A=()=>{_.value!==0&&_.value--},E=()=>{_.value++},I=()=>{a.value=!a.value},v=()=>{u.value==="date"?u.value="alphabet":u.value="date"};return(e,t)=>{var z,H;const l=Te,h=M("font-awesome-icon"),Z=M("font-awesome-layers"),Y=Re;return i(),g("div",null,[b(l,{show:n(k),onResetPage:t[0]||(t[0]=y=>_.value=0),onClose:t[1]||(t[1]=y=>k.value=!1)},null,8,["show"]),s("div",ze,[s("div",He,[C(x((z=n(r).games)==null?void 0:z.length)+" game",1),((H=n(r).games)==null?void 0:H.length)>1?(i(),g("span",Xe,"s")):G("",!0)]),s("p",Je,[C(" Sorteren: "),s("span",{class:"text-gray-500 cursor-pointer",onClick:v},x(n(c)),1),b(Z,{class:"cursor-pointer",onClick:I},{default:P(()=>[b(h,{icon:["fas","sort-down"],class:V(["h-4 w-4",{"text-gray-500":n(a)}])},null,8,["class"]),b(h,{icon:["fas","sort-up"],class:V(["h-4 w-4",{"text-gray-500":!n(a)}])},null,8,["class"])]),_:1})]),s("div",qe,[s("p",{class:"text-violet-500 cursor-pointer flex gap-1 items-center",onClick:t[2]||(t[2]=y=>k.value=!0)},[b(h,{icon:"fa-solid fa-filter",class:"h-4 w-4"}),C(),Ke]),n(r).hasFiltered?(i(),U(h,{key:0,icon:"fa-solid fa-circle-xmark",class:"h-4 w-4 text-gray-500 ml-1",onClick:t[3]||(t[3]=y=>n(r).removeFilters())})):G("",!0)])]),s("div",We,[(i(!0),g(F,null,O(n(N).slice(n(_)*n(d),n(_)*n(d)+n(d)),y=>(i(),g("div",{id:"game",key:y._id,class:"col-span-6 sm:col-span-4 lg:col-span-3 xl:col-span-2 relative"},[s("img",{src:y.cover,class:"mx-auto rounded-md transition duration-200 border-2 border-gray-700 h-full"},null,8,Qe),s("div",Ze,[s("h3",Ye,x(y.name),1),s("p",et,"Release: "+x(y.releaseDate),1),s("p",tt,[C("Platform: "),s("img",{src:m(y.platform),class:"inline"},null,8,st)]),s("p",nt,[lt,b(h,{icon:`fa-solid fa-${y.completed?"check-circle":"circle-xmark"}`,class:V(["w-4 h-4",y.completed?"text-green-500":"text-red-500"])},null,8,["icon","class"])])]),s("div",ot,[(i(!0),g(F,null,O(y.genres,X=>(i(),g("div",{key:X,class:"bg-violet-600 pt-1 pb-0.5 px-2 rounded-full"},x(X),1))),128))])]))),128))]),n(r).games.length>n(d)?(i(),U(Y,{key:0,"current-page":n(_),"num-per-page":n(d),"num-games":n(r).games.length,onNext:E,onPrev:A,onChange:t[4]||(t[4]=y=>_.value=y)},null,8,["current-page","num-per-page","num-games"])):G("",!0)])}}},ct=q(at,[["__scopeId","data-v-cbf808a0"]]);export{ct as default};
