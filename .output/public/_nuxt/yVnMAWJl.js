import{X as ee,_ as Q,r as $,Q as M,G as te,t as i,U as B,z as y,A as P,v as g,Y as se,Z as J,P as n,x as t,R as j,T as D,S as ne,N as O,O as U,$ as R,y as _,M as N,a0 as le,a1 as oe,C as Z,D as q,m as ae,a2 as ie,W as I,c as A,i as X,B as S,V as re}from"./mXEionkS.js";import{u as ce}from"./DX0-c9GK.js";const de=()=>({games:[],filteredGames:[],hasFiltered:!1}),ue={},ge={setGames(o){this.games=o},setFilteredGames(o){this.games=o},setHasFiltered(o){this.hasFiltered=o},async getAllGames(){const{data:o}=await ce("/api/games","$IGrTh3Q0c0");return o.value.games},async removeFilters(){this.hasFiltered=!1;const o=await this.getAllGames();this.setGames(o.value)}},L=ee("gameStore",{state:de,getters:ue,actions:ge}),G=o=>(Z("data-v-6d06d5d9"),o=o(),q(),o),pe={key:0,class:"flex flex-col h-screen z-70 shadow-md bg-gray-800 text-sm relative mr-auto w-screen sm:w-100 transform p-4 overflow-y-auto overflow-x-hidden"},me={class:"flex text-lg"},fe=G(()=>t("h2",null,"Filters",-1)),ve=G(()=>t("hr",{class:"my-3"},null,-1)),he=G(()=>t("hr",{class:"my-3"},null,-1)),_e=G(()=>t("h3",null,"Genres",-1)),xe=["id","value"],ye=["for"],be=G(()=>t("br",null,null,-1)),we={class:"ml-auto text-gray-500"},ke=G(()=>t("h3",{class:"mt-6"},"Uitgespeeld",-1)),Pe=["id","value"],$e=["for"],Ce=G(()=>t("br",null,null,-1)),Se={class:"ml-auto text-gray-500"},Ge=G(()=>t("h3",{class:"mt-6"},"Platformen",-1)),Ne=["id","value"],Fe=["for"],Oe=G(()=>t("br",null,null,-1)),Ue={class:"ml-auto text-gray-500"},Be={class:"flex gap-3"},Ae={__name:"FilterOverlay",props:{show:{type:Boolean,required:!0}},emits:["close","reset-page"],setup(o,{emit:w}){const p=L(),{$showToast:r}=ae(),k=o,h=w,m=$(""),b=M({});p.games.forEach(s=>{s.genres.forEach(e=>{Object.prototype.hasOwnProperty.call(b,e)?b[e]++:b[e]=1})});const u=M({});p.games.forEach(s=>{s.completed?Object.prototype.hasOwnProperty.call(u,"Uitgespeeld")?u.Uitgespeeld++:u.Uitgespeeld=1:Object.prototype.hasOwnProperty.call(u,"Niet uitgespeeld")?u["Niet uitgespeeld"]++:u["Niet uitgespeeld"]=1});const a=M({});p.games.forEach(s=>{Object.prototype.hasOwnProperty.call(a,s.platform)?a[s.platform]++:a[s.platform]=1});const f=$([]),v=$([]),d=$([]),F=$(!1);te(()=>k.show,s=>{oe(()=>{s?(F.value=!0,E("add","overflow-y-hidden")):E("remove","overflow-y-hidden")})});const E=(s,e)=>{const c=document.documentElement;s==="add"?c.classList.add(e):c.classList.remove(e)},T=()=>{F.value=!1,setTimeout(()=>{h("close")},200)},V=async s=>{let e=[],c;p.hasFiltered?{value:c}=await p.getAllGames():c=JSON.parse(JSON.stringify(p.games)),f.value.length>0&&(e=c.filter(l=>l.genres.some(C=>f.value.includes(C)))),m.value.length>0&&(e=e.length>0?e:c,e=e.filter(l=>l.name.toLowerCase().includes(m.value.toLowerCase()))),v.value.length>0&&(e=e.length>0?e:c,e=e.filter(l=>v.value.includes("Uitgespeeld")&&l.completed||v.value.includes("Niet uitgespeeld")&&!l.completed)),d.value.length>0&&(e=e.length>0?e:c,e=e.filter(l=>d.value.includes(l.platform))),e.length>0?(p.setHasFiltered(!0),s&&(e=[e[Math.floor(Math.random()*e.length)]]),p.setGames(e),h("reset-page"),T()):r("Niks gevonden!","warning")};return(s,e)=>(i(),B(le,{to:"body"},[y(J,{name:"dialog"},{default:P(()=>[o.show?(i(),g("div",{key:0,class:"z-50 fixed w-full h-screen flex items-center",style:{background:"rgba(0,0,0,0.5)"},onClick:se(T,["self"])},[y(J,{"enter-class":"translate-x-full","leave-to-class":"-translate-x-full","enter-active-class":"transition-all duration-200 ease-in","leave-active-class":"transition-all duration-200 ease-out"},{default:P(()=>[n(F)?(i(),g("div",pe,[t("div",me,[fe,t("div",{class:"ml-auto cursor-pointer font-bold",onClick:e[0]||(e[0]=c=>h("close"))},"X")]),ve,j(t("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>D(m)?m.value=c:null),type:"text",placeholder:"Zoeken op naam...",class:"rounded-md p-2 text-black"},null,512),[[ne,n(m)]]),he,_e,(i(!0),g(O,null,U(n(b),(c,l)=>(i(),g("div",{key:l,class:"flex gap-1.5 w-60"},[j(t("input",{id:l,"onUpdate:modelValue":e[2]||(e[2]=C=>D(f)?f.value=C:null),type:"checkbox",value:l},null,8,xe),[[R,n(f)]]),t("label",{for:l,class:"text-sm"},_(l),9,ye),be,t("p",we,_(c),1)]))),128)),ke,(i(!0),g(O,null,U(n(u),(c,l)=>(i(),g("div",{key:l,class:"flex gap-1.5 w-40"},[j(t("input",{id:l,"onUpdate:modelValue":e[3]||(e[3]=C=>D(v)?v.value=C:null),type:"checkbox",value:l},null,8,Pe),[[R,n(v)]]),t("label",{for:l,class:"text-sm"},_(l),9,$e),Ce,t("p",Se,_(c),1)]))),128)),Ge,(i(!0),g(O,null,U(n(a),(c,l)=>(i(),g("div",{key:l,class:"flex gap-1.5 w-88"},[j(t("input",{id:l,"onUpdate:modelValue":e[4]||(e[4]=C=>D(d)?d.value=C:null),type:"checkbox",value:l},null,8,Ne),[[R,n(d)]]),t("label",{for:l,class:"text-sm"},_(l),9,Fe),Oe,t("p",Ue,_(c),1)]))),128)),t("button",{class:"bg-violet-600 hover:bg-violet-800 rounded-md font-bold py-2 px-4 my-3 transition duration-200",onClick:e[5]||(e[5]=c=>V(!1))}," Filters toepassen "),t("div",Be,[t("button",{class:"bg-gray-600 hover:bg-gray-700 rounded-md font-bold py-2 px-4 transition duration-200 w-full",onClick:e[6]||(e[6]=c=>V(!0))}," Kies game! "),t("button",{class:"bg-gray-600 hover:bg-gray-700 rounded-md font-bold py-2 px-4 transition duration-200 w-full",onClick:e[7]||(e[7]=c=>n(p).removeFilters())}," Filters verwijderen ")])])):N("",!0)]),_:1})])):N("",!0)]),_:1})]))}},Ee=Q(Ae,[["__scopeId","data-v-6d06d5d9"]]),Te={__name:"GamesPaginationButton",props:{isDisabled:{type:Boolean,default:!1}},setup(o){const w=o;return(p,r)=>(i(),g("button",{class:I(["rounded-md font-bold py-2 px-2.5 sm:px-4 my-3 transition duration-200 text-sm",w.isDisabled?"bg-violet-800 cursor-not-allowed":"bg-violet-600 hover:bg-violet-800"])},[ie(p.$slots,"default")],2))}},Ve=Te,je={class:"flex justify-between"},De={class:"flex gap-2 mx-auto"},Ie={key:0,class:"mt-auto mb-2.5"},Me={key:2,class:"mt-auto mb-2.5"},Re={__name:"GamesPagination",props:{currentPage:{type:Number,default:0},numPerPage:{type:Number,default:30}},emits:["next","prev","change"],setup(o,{emit:w}){const p=L(),r=o,k=w,h=A(()=>Math.ceil(p.games.length/r.numPerPage)-1),m=A(()=>{const u=[];let a=r.currentPage,f=0;for(;f<3&&a>=1;)a!==r.currentPage&&u.push(a),f++,a--;return u.reverse()}),b=A(()=>{const u=[];let a=r.currentPage,f=0;for(;f<3&&a<h.value;)a!==r.currentPage&&u.push(a),f++,a++;return u});return(u,a)=>{const f=X("font-awesome-icon"),v=Ve;return i(),g("div",je,[y(v,{"is-disabled":r.currentPage===0,class:"hidden sm:block",onClick:a[0]||(a[0]=d=>k("prev"))},{default:P(()=>[y(f,{icon:"fa-solid fa-angle-left",class:"w-4 h-4"})]),_:1},8,["is-disabled"]),t("div",De,[y(v,{"is-disabled":r.currentPage===0,onClick:a[1]||(a[1]=d=>k("change",0))},{default:P(()=>[S(" 1 ")]),_:1},8,["is-disabled"]),r.currentPage>3?(i(),g("p",Ie,"...")):N("",!0),(i(!0),g(O,null,U(n(m),d=>(i(),B(v,{key:d,"is-disabled":d===r.currentPage,onClick:F=>k("change",d)},{default:P(()=>[S(_(d+1),1)]),_:2},1032,["is-disabled","onClick"]))),128)),o.currentPage!==0&&o.currentPage!==n(h)?(i(),B(v,{key:1,"is-disabled":""},{default:P(()=>[S(_(o.currentPage+1),1)]),_:1})):N("",!0),(i(!0),g(O,null,U(n(b),d=>(i(),B(v,{key:d,"is-disabled":d===r.currentPage,onClick:F=>k("change",d)},{default:P(()=>[S(_(d+1),1)]),_:2},1032,["is-disabled","onClick"]))),128)),n(h)-o.currentPage>3?(i(),g("p",Me,"...")):N("",!0),y(v,{"is-disabled":r.currentPage===n(h),onClick:a[2]||(a[2]=d=>k("change",n(h)))},{default:P(()=>[S(_(n(h)+1),1)]),_:1},8,["is-disabled"])]),y(v,{class:"hidden sm:block","is-disabled":r.currentPage===n(h),onClick:a[3]||(a[3]=d=>k("next"))},{default:P(()=>[y(f,{icon:"fa-solid fa-angle-right",class:"w-4 h-4"})]),_:1},8,["is-disabled"])])}}},Xe=Re,K=o=>(Z("data-v-fa7d374b"),o=o(),q(),o),Le={class:"flex justify-between text-sm mb-3 whitespace-nowrap"},ze={class:"text-gray-500 flex items-center"},He={key:0},We={class:"flex gap-1 items-center"},Je={class:"flex gap-1 items-center"},Qe=K(()=>t("span",null,"Filters",-1)),Ze={class:"grid grid-cols-12 gap-4 mb-1"},qe=["src"],Ke={class:"info absolute top-4 left-0 opacity-0 transition duration-200 w-full"},Ye={class:"text-center"},et={class:"text-center mt-3"},tt={class:"text-center mt-3"},st=["src"],nt={class:"text-center mt-3 flex gap-1 items-center justify-center"},lt=K(()=>t("span",null,"Uitgespeeld:",-1)),ot={class:"info absolute bottom-2 left-2 opacity-0 transition duration-200 text-xxs flex gap-2 flex-wrap"},at={__name:"index",async setup(o){let w,p;const r=L(),k=([w,p]=re(()=>r.getAllGames()),w=await w,p(),w);r.setGames(k);const h=$(!1),m=$(0),b=$(30),u=$(!1),a=$("date"),f=s=>{let e="/images/";return s==="Nintendo Entertainment System (NES)"?e+="nes.png":s==="Super Nintendo Entertainment System (SNES)"?e+="snes.png":s==="Nintendo 64"?e+="n64.png":s==="Nintendo GameCube"?e+="gc.png":s==="Wii"?e+="wii.png":s==="Wii U"?e+="wii-u.png":s==="Nintendo Switch"?e+="switch.png":s==="Game Boy"?e+="gb.png":s==="Game Boy Color"?e+="gbc.png":s==="Game Boy Advance"?e+="gba.png":s==="Nintendo DS"?e+="ds.png":s==="Nintendo 3DS"?e+="3ds.png":s==="PlayStation"?e+="ps.png":s==="PlayStation 2"?e+="ps2.png":s==="PlayStation 3"?e+="ps3.png":s==="PlayStation 4"?e+="ps4.png":s==="PlayStation 5"?e+="ps5.png":s==="Xbox"?e+="xbox.png":s==="Xbox 360"?e+="xbox-360.png":s==="Xbox One"?e+="xbox-one.png":s==="Xbox Series"?e+="xbox-series.png":e+="md.png",e},v=A(()=>a.value==="date"?"Toegevoegd":"Alfabetisch"),d=A(()=>{let s=[...r.games];a.value==="alphabet"&&(s=s.sort((c,l)=>c.name.localeCompare(l.name)));const e=s.slice().reverse();return u.value?e:s}),F=()=>{m.value!==0&&m.value--},E=()=>{m.value++},T=()=>{u.value=!u.value},V=()=>{a.value==="date"?a.value="alphabet":a.value="date"};return(s,e)=>{var z,H;const c=Ee,l=X("font-awesome-icon"),C=X("font-awesome-layers"),Y=Xe;return i(),g("div",null,[y(c,{show:n(h),onResetPage:e[0]||(e[0]=x=>m.value=0),onClose:e[1]||(e[1]=x=>h.value=!1)},null,8,["show"]),t("div",Le,[t("div",ze,[S(_((z=n(r).games)==null?void 0:z.length)+" game",1),((H=n(r).games)==null?void 0:H.length)>1?(i(),g("span",He,"s")):N("",!0)]),t("div",We,[S(" Sorteren: "),t("span",{class:"text-gray-500 cursor-pointer",onClick:V},_(n(v)),1),y(C,{class:"cursor-pointer",onClick:T},{default:P(()=>[y(l,{icon:["fas","sort-down"],class:I(["h-4 w-4",{"text-gray-500":n(u)}])},null,8,["class"]),y(l,{icon:["fas","sort-up"],class:I(["h-4 w-4",{"text-gray-500":!n(u)}])},null,8,["class"])]),_:1})]),t("div",Je,[t("p",{class:"text-violet-500 cursor-pointer flex gap-1 items-center",onClick:e[2]||(e[2]=x=>h.value=!0)},[y(l,{icon:"fa-solid fa-filter",class:"h-4 w-4"}),S(),Qe]),n(r).hasFiltered?(i(),B(l,{key:0,icon:"fa-solid fa-circle-xmark",class:"h-4 w-4 text-gray-500 ml-1",onClick:e[3]||(e[3]=x=>n(r).removeFilters())})):N("",!0)])]),t("div",Ze,[(i(!0),g(O,null,U(n(d).slice(n(m)*n(b),n(m)*n(b)+n(b)),x=>(i(),g("div",{id:"game",key:x._id,class:"col-span-6 sm:col-span-4 lg:col-span-3 xl:col-span-2 relative"},[t("img",{src:x.cover,class:"mx-auto rounded-md transition duration-200 border-2 border-gray-700 h-full"},null,8,qe),t("div",Ke,[t("h3",Ye,_(x.name),1),t("p",et,"Release: "+_(x.releaseDate),1),t("p",tt,[S("Platform: "),t("img",{src:f(x.platform),class:"inline"},null,8,st)]),t("p",nt,[lt,y(l,{icon:`fa-solid fa-${x.completed?"check-circle":"circle-xmark"}`,class:I(["w-4 h-4",x.completed?"text-green-500":"text-red-500"])},null,8,["icon","class"])])]),t("div",ot,[(i(!0),g(O,null,U(x.genres,W=>(i(),g("div",{key:W,class:"bg-violet-600 pt-1 pb-0.5 px-2 rounded-full"},_(W),1))),128))])]))),128))]),n(r).games.length>n(b)?(i(),B(Y,{key:0,"current-page":n(m),"num-per-page":n(b),"num-games":n(r).games.length,onNext:E,onPrev:F,onChange:e[4]||(e[4]=x=>m.value=x)},null,8,["current-page","num-per-page","num-games"])):N("",!0)])}}},ct=Q(at,[["__scopeId","data-v-fa7d374b"]]);export{ct as default};
